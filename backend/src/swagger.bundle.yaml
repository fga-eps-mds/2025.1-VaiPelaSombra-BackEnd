openapi: 3.0.0
info:
  title: VaiPelaSombra API
  version: 1.0.0
  description: API documentation for VaiPelaSombra Backend

servers:
  - url: http://localhost:3000
    description: Local server

paths:
  /users:
    post:
      summary: Create a new user
      tags:
        - Users
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
    get:
      summary: Retrieve a list of users
      tags: [Users]
      responses:
        '200':
          description: A list of users
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/CreateUserInput'
    post:
      summary: Create a new user
      tags: [Users]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserInput'
      responses:
        '201':
          description: User created
          content:
            application/json:
              schema:
<<<<<<< HEAD
                $ref: '#/components/schemas/User'
<<<<<<< HEAD
        '400':
          description: Invalid input
        '500':
          description: Server error
    get:
      summary: Get all users
      tags:
        - Users
=======
                $ref: '#/components/schemas/CreateUserInput'

  /users/{id}:
    get:
      summary: Retrieve a single user by ID
      tags: [Users]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: A single user
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateUserInput'
    put:
      summary: Update an existing user
      tags: [Users]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateUserInput'
      responses:
        '200':
          description: The user was successfully updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/CreateUserInput'
    delete:
      summary: Delete a user
      tags: [Users]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: The user was successfully deleted

  /users/{id}/preferences:
    get:
      summary: Retrieve travel preferences for a user
      tags: [Users]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: string
      responses:
        '200':
          description: Travel preferences for the user
    post:
      summary: Save or update a user's travel preferences
      tags: [Users]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                travelPreferences:
                  type: object
                  properties:
                    travelerType:
                      type: string
                      enum: [AVENTUREIRO, CULTURAL, RELAXAMENTO, GASTRONOMICO]
                    travelFrequency:
                      type: string
                      enum: [BIMESTRAL, TRIMESTRAL, SEMESTRAL, ANUAL]
                    averageBudget:
                      type: number
      responses:
        '200':
          description: Preferences saved successfully
    put:
      summary: Update a user's travel preferences
      tags: [Users]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                travelPreferences:
                  type: object
                  properties:
                    travelerType:
                      type: string
                      enum: [AVENTUREIRO, CULTURAL, RELAXAMENTO, GASTRONOMICO]
                    travelFrequency:
                      type: string
                      enum: [BIMESTRAL, TRIMESTRAL, SEMESTRAL, ANUAL]
                    averageBudget:
                      type: number
      responses:
        '200':
          description: Preferences updated successfully
        '400':
          description: Invalid input
        '404':
          description: Preferences not found

  /users/{id}/interests:
    get:
      summary: Get travel interests selected by a user
      tags: [Users]
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      responses:
        '200':
          description: List of users
=======
        '400':
          description: Invalid input
        '500':
          description: Server error
    get:
      summary: Get all users
      tags:
        - Users
      responses:
        '200':
          description: List of users
          content:
            application/json:
              schema:
                type: array
                items:
<<<<<<< HEAD
                  $ref: '#/components/schemas/User'
        '500':
          description: Server error
  /users/{userId}:
    get:
      summary: Get user by ID
      tags:
        - Users
=======
                  type: object
                  properties:
                    id:
                      type: integer
                    name:
                      type: string
        '404':
          description: Preferences not found
    post:
      summary: Save travel interests for a user (first-time setup)
      tags: [Users]
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
<<<<<<< HEAD
=======
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              properties:
                travelInterestsIds:
                  type: array
                  items:
                    type: integer
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      responses:
        '200':
          description: User found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '404':
          description: User not found
        '500':
          description: Server error
    put:
<<<<<<< HEAD
      summary: Update user by ID
      tags:
        - TravelPreferences
=======
      summary: Update travel interests for a user
      tags: [Users]
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateUserInput'
      responses:
        '200':
          description: User updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Invalid input
        '404':
          description: User not found
        '500':
          description: Server error
    delete:
      summary: Delete user by ID
      tags:
        - TravelPreferences
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: User deleted
        '404':
          description: User not found
        '500':
          description: Server error
  /users/{userId}/travel-preferences:
    get:
      summary: Get travel preference by user ID
      tags:
        - TravelPreferences
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Travel preference found
          content:
            application/json:
              schema:
                type: object
                required:
                  - userId
                  - travelInterests
                properties:
                  userId:
                    type: integer
                    example: 1
                  travelInterests:
                    type: array
                    items:
                      type: integer
                    example:
                      - 2
                      - 3
        '404':
          description: Travel preference not found
        '500':
          description: Server error
    post:
      summary: Create travel preference for user
      tags:
        - TravelPreferences
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - travelInterests
              properties:
                userId:
                  type: integer
                  example: 1
                travelInterests:
                  type: array
                  items:
                    type: integer
<<<<<<< HEAD
                  example:
                    - 2
                    - 3
=======
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      responses:
        '201':
          description: Travel preference created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelPreference'
        '400':
<<<<<<< HEAD
          description: Invalid input
        '500':
          description: Server error
    put:
      summary: Update travel preference for user
      tags:
        - TravelPreferences
=======
          description: No interests selected
        '404':
          description: Preferences not found

  /planoViagem/{userId}:
    get:
      summary: Retorna todos os planos de viagem de um usuário
      tags: [PlanoViagem]
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
<<<<<<< HEAD
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - travelInterests
              properties:
                userId:
                  type: integer
                  example: 1
                travelInterests:
                  type: array
                  items:
                    type: integer
                  example:
                    - 2
                    - 3
=======
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      responses:
        '200':
          description: Travel preference updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelPreference'
        '400':
          description: Invalid input
        '404':
          description: Travel preference not found
        '500':
          description: Server error
    delete:
      summary: Delete travel preference for user
      tags:
        - TravelPreferences
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Travel preference deleted
        '404':
          description: Travel preference not found
        '500':
          description: Server error
<<<<<<< HEAD
  /interests:
    post:
      summary: Create a new travel interest
      operationId: createTravelInterest
      tags:
        - TravelInterests
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - label
              properties:
                label:
                  type: string
                  example: Natureza
      responses:
        '201':
          description: Travel interest created
          content:
            application/json:
              schema:
                type: object
                required:
                  - label
                properties:
                  label:
                    type: string
                    example: Natureza
        '400':
          description: Invalid input
        '500':
          description: Server error
    get:
      summary: Get all travel interests
      operationId: getTravelInterests
      tags:
        - TravelInterests
      responses:
        '200':
          description: List of travel interests
>>>>>>> c7aa2df (Update prisma schema and add itinerary and activitys services+controller+router)
          content:
            application/json:
              schema:
                type: array
                items:
<<<<<<< HEAD
<<<<<<< HEAD
                  $ref: '#/components/schemas/User'
        '500':
          description: Server error
  /users/{userId}:
    get:
      summary: Get user by ID
=======
                  $ref: '#/components/schemas/TravelInterest'
        '500':
          description: Server error
  /travel-interests/{id}:
    get:
      summary: Get travel interest by ID
      operationId: getTravelInterestById
>>>>>>> c7aa2df (Update prisma schema and add itinerary and activitys services+controller+router)
      tags:
        - TravelInterests
=======
                  $ref: '#/components/schemas/PlanoViagem'
        '404':
          description: Usuário não encontrado
    post:
      summary: Cria um novo plano de viagem
      tags: [PlanoViagem]
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [nome]
              properties:
                nome:
                  type: string
                destino:
                  type: string
                  nullable: true
                dataInicio:
                  type: string
                  format: date-time
                  nullable: true
                dataFim:
                  type: string
                  format: date-time
                  nullable: true
      responses:
        '201':
          description: Plano de viagem criado com sucesso
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlanoViagem'
        '400':
          description: Dados inválidos

  /planoViagem/{userId}/{id}:
    get:
      summary: Retorna um plano de viagem específico
      tags: [PlanoViagem]
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      parameters:
<<<<<<< HEAD
        - in: path
          name: userId
          required: true
          schema:
            type: integer
<<<<<<< HEAD
=======
        - in: path
          name: id
          required: true
          schema:
            type: integer
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      responses:
        '200':
          description: User found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '404':
          description: User not found
        '500':
          description: Server error
    put:
<<<<<<< HEAD
      summary: Update user by ID
      tags:
        - Users
=======
      summary: Atualiza um plano de viagem existente
      tags: [PlanoViagem]
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
<<<<<<< HEAD
=======
        - in: path
          name: id
          required: true
          schema:
            type: integer
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      requestBody:
        required: true
        content:
          application/json:
            schema:
<<<<<<< HEAD
              $ref: '#/components/schemas/UpdateUserInput'
=======
              type: object
              required: [nome]
              properties:
                nome:
                  type: string
                destino:
                  type: string
                  nullable: true
                dataInicio:
                  type: string
                  format: date-time
                  nullable: true
                dataFim:
                  type: string
                  format: date-time
                  nullable: true
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      responses:
        '200':
          description: User updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/User'
        '400':
          description: Invalid input
        '404':
          description: User not found
        '500':
          description: Server error
    delete:
<<<<<<< HEAD
      summary: Delete user by ID
      tags:
        - TravelPreferences
=======
      summary: Exclui um plano de viagem
      tags: [PlanoViagem]
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
<<<<<<< HEAD
      responses:
        '204':
          description: User deleted
        '404':
          description: User not found
        '500':
          description: Server error
  /users/{userId}/travel-preferences:
    get:
      summary: Get travel preference by user ID
      tags:
        - TravelPreferences
      parameters:
=======
>>>>>>> 8ce8bcc (Implementação a US48 backend)
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        '200':
<<<<<<< HEAD
          description: Travel preference found
=======
          description: Plano de viagem excluído com sucesso
        '404':
          description: Plano de viagem não encontrado

  /login:
    post:
      summary: Authenticate user
      tags: [Login]
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required: [email, password]
              properties:
                email:
                  type: string
                password:
                  type: string
      responses:
        '200':
          description: Successfully logged in
>>>>>>> 8ce8bcc (Implementação a US48 backend)
          content:
            application/json:
              schema:
                type: object
                required:
                  - userId
                  - travelInterests
                properties:
                  userId:
                    type: integer
                    example: 1
                  travelInterests:
                    type: array
                    items:
                      type: integer
                    example:
                      - 2
                      - 3
        '404':
          description: Travel preference not found
        '500':
          description: Server error
    post:
      summary: Create travel preference for user
      tags:
        - TravelPreferences
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - travelInterests
              properties:
                userId:
                  type: integer
                  example: 1
                travelInterests:
                  type: array
                  items:
                    type: integer
                  example:
                    - 2
                    - 3
      responses:
        '201':
          description: Travel preference created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelPreference'
        '400':
          description: Invalid input
        '500':
          description: Server error
    put:
      summary: Update travel preference for user
      tags:
        - TravelPreferences
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - userId
                - travelInterests
              properties:
                userId:
                  type: integer
                  example: 1
                travelInterests:
                  type: array
                  items:
                    type: integer
                  example:
                    - 2
                    - 3
      responses:
        '200':
          description: Travel preference updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelPreference'
        '400':
          description: Invalid input
        '404':
          description: Travel preference not found
        '500':
          description: Server error
    delete:
      summary: Delete travel preference for user
      tags:
        - TravelPreferences
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Travel preference deleted
        '404':
          description: Travel preference not found
        '500':
          description: Server error
  /users/{userId}/itineraries:
    post:
      summary: Create itinerary for user
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - startDate
                - endDate
                - itineraryStatus
              properties:
                title:
                  type: string
                  example: Viagem para o Rio
                startDate:
                  type: string
                  format: date-time
                  example: '2025-07-01T09:00:00.000Z'
                endDate:
                  type: string
                  format: date-time
                  example: '2025-07-10T18:00:00.000Z'
                itineraryStatus:
                  type: string
                  enum:
                    - PLANNING
                    - IN_PROGRESS
                    - COMPLETED
                  example: PLANNING
                foodBudget:
                  type: number
                  format: float
                  example: 500
                lodgingBudget:
                  type: number
                  format: float
                  example: 1200
                totalBudget:
                  type: number
                  format: float
                  example: 2000
                userIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                    - 2
                transportIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                activityIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                    - 2
                destinationIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                requiredDocumentIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                    - 2
      responses:
        '201':
          description: Itinerary created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Itinerary'
        '400':
          description: Invalid input
        '500':
          description: Server error
    get:
      summary: Get all itineraries for user
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of itineraries
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Itinerary'
        '500':
          description: Server error
  /users/{userId}/itineraries/{itineraryId}:
    put:
      summary: Update itinerary by ID
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateItineraryInput'
      responses:
        '200':
          description: Itinerary updated
          content:
            application/json:
              schema:
                type: object
                required:
                  - title
                  - startDate
                  - endDate
                  - itineraryStatus
                properties:
                  title:
                    type: string
<<<<<<< HEAD
                    example: Viagem para o Rio
                  startDate:
                    type: string
                    format: date-time
                    example: '2025-07-01T09:00:00.000Z'
                  endDate:
                    type: string
                    format: date-time
                    example: '2025-07-10T18:00:00.000Z'
                  itineraryStatus:
                    type: string
                    enum:
                      - PLANNING
                      - IN_PROGRESS
                      - COMPLETED
                    example: PLANNING
                  foodBudget:
                    type: number
                    format: float
                    example: 500
                  lodgingBudget:
                    type: number
                    format: float
                    example: 1200
                  totalBudget:
                    type: number
                    format: float
                    example: 2000
                  userIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                      - 2
                  transportIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                  activityIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                      - 2
                  destinationIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                  requiredDocumentIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                      - 2
        '400':
          description: Invalid input
        '404':
          description: Itinerary not found
        '500':
          description: Server error
    delete:
      summary: Delete itinerary by ID
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Itinerary deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Itinerary'
        '404':
          description: Itinerary not found
        '500':
          description: Server error
  /users/{userId}/itineraries/{itineraryId}/activities:
    get:
      summary: Get all activities for an itinerary
      tags:
        - Activities
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of activities
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Activity'
        '400':
          description: Invalid input
        '500':
          description: Server error
    post:
      summary: Create a new activity for an itinerary
      tags:
        - Activities
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateActivityInput'
      responses:
        '201':
          description: Activity created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '400':
          description: Invalid input
        '500':
          description: Server error
  /users/{userId}/itineraries/{itineraryId}/activities/{activityId}:
    put:
      summary: Update an activity
      tags:
        - Activities
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
        - in: path
          name: activityId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateActivityInput'
      responses:
        '200':
          description: Activity updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '400':
          description: Invalid input
        '404':
          description: Activity not found
        '500':
          description: Server error
    delete:
      summary: Delete an activity
      tags:
        - Activities
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
        - in: path
          name: activityId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Activity deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '404':
          description: Activity not found
        '500':
          description: Server error
  /travel-interests:
    get:
      summary: Get all travel interests
      tags:
        - TravelInterests
      responses:
        '200':
          description: List of travel interests
          content:
            application/json:
              schema:
                type: array
                items:
                  type: object
                  required:
                    - label
                  properties:
                    label:
                      type: string
                      example: Natureza
        '500':
          description: Server error
<<<<<<< HEAD
    post:
      summary: Create a new travel interest
      tags:
        - TravelInterests
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTravelInterestInput'
      responses:
        '201':
          description: Travel interest created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelInterest'
        '400':
          description: Invalid input
        '500':
          description: Server error
  /travel-interests/{id}:
=======
  /interests/{id}:
>>>>>>> 3ae82ba (Att yamls para rotas no swagger)
    get:
      summary: Get travel interest by ID
      tags:
        - TravelInterests
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Travel interest found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelInterest'
        '404':
=======
        - name: id
          in: path
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Travel interest found
          content:
            application/json:
              schema:
                type: object
                required:
                  - label
                properties:
                  label:
                    type: string
                    example: Natureza
        '404':
>>>>>>> c7aa2df (Update prisma schema and add itinerary and activitys services+controller+router)
          description: Travel interest not found
        '500':
          description: Server error
    put:
      summary: Update travel interest by ID
<<<<<<< HEAD
      tags:
        - TravelInterests
      parameters:
        - in: path
          name: id
=======
      operationId: updateTravelInterest
      tags:
        - TravelInterests
      parameters:
        - name: id
          in: path
>>>>>>> c7aa2df (Update prisma schema and add itinerary and activitys services+controller+router)
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - label
              properties:
                label:
                  type: string
                  example: Natureza
      responses:
        '200':
          description: Travel interest updated
          content:
            application/json:
              schema:
                type: object
                required:
                  - label
                properties:
                  label:
                    type: string
                    example: Natureza
        '400':
          description: Invalid input
        '404':
          description: Travel interest not found
        '500':
          description: Server error
    delete:
      summary: Delete travel interest by ID
<<<<<<< HEAD
      tags:
        - TravelInterests
      parameters:
        - in: path
          name: id
=======
      operationId: deleteTravelInterest
      tags:
        - TravelInterests
      parameters:
        - name: id
          in: path
>>>>>>> c7aa2df (Update prisma schema and add itinerary and activitys services+controller+router)
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Travel interest deleted
        '404':
          description: Travel interest not found
        '500':
          description: Server error
<<<<<<< HEAD
<<<<<<< HEAD
=======
  /itineraries/{userId}:
=======
=======
>>>>>>> 6930e63 (feat: adiciona documentação das rotas)
  /users/{userId}/itineraries:
>>>>>>> 3ae82ba (Att yamls para rotas no swagger)
    post:
      summary: Create itinerary for user
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - startDate
                - endDate
                - itineraryStatus
              properties:
                title:
                  type: string
                  example: Viagem para o Rio
                startDate:
                  type: string
                  format: date-time
                  example: '2025-07-01T09:00:00.000Z'
                endDate:
                  type: string
                  format: date-time
                  example: '2025-07-10T18:00:00.000Z'
                itineraryStatus:
                  type: string
                  enum:
                    - PLANNING
                    - IN_PROGRESS
                    - COMPLETED
                  example: PLANNING
                foodBudget:
                  type: number
                  format: float
                  example: 500
                lodgingBudget:
                  type: number
                  format: float
                  example: 1200
                totalBudget:
                  type: number
                  format: float
                  example: 2000
                userIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                    - 2
                transportIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                activityIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                    - 2
                destinationIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                requiredDocumentIds:
                  type: array
                  items:
                    type: integer
                  example:
                    - 1
                    - 2
      responses:
        '201':
          description: Itinerary created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Itinerary'
        '400':
          description: Invalid input
        '500':
          description: Server error
    get:
      summary: Get all itineraries for user
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of itineraries
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Itinerary'
        '500':
          description: Server error
  /users/{userId}/itineraries/{itineraryId}:
    put:
      summary: Update itinerary by ID
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateItineraryInput'
      responses:
        '200':
          description: Itinerary updated
          content:
            application/json:
              schema:
                type: object
                required:
                  - title
                  - startDate
                  - endDate
                  - itineraryStatus
                properties:
                  title:
                    type: string
                    example: Viagem para o Rio
                  startDate:
                    type: string
                    format: date-time
                    example: '2025-07-01T09:00:00.000Z'
                  endDate:
                    type: string
                    format: date-time
                    example: '2025-07-10T18:00:00.000Z'
                  itineraryStatus:
                    type: string
                    enum:
                      - PLANNING
                      - IN_PROGRESS
                      - COMPLETED
                    example: PLANNING
                  foodBudget:
                    type: number
                    format: float
                    example: 500
                  lodgingBudget:
                    type: number
                    format: float
                    example: 1200
                  totalBudget:
                    type: number
                    format: float
                    example: 2000
                  userIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                      - 2
                  transportIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                  activityIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                      - 2
                  destinationIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                  requiredDocumentIds:
                    type: array
                    items:
                      type: integer
                    example:
                      - 1
                      - 2
        '400':
          description: Invalid input
        '404':
          description: Itinerary not found
        '500':
          description: Server error
    delete:
      summary: Delete itinerary by ID
      tags:
        - Itineraries
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Itinerary deleted
<<<<<<< HEAD
        '404':
          description: Itinerary not found
        '500':
          description: Server error
<<<<<<< HEAD
>>>>>>> c7aa2df (Update prisma schema and add itinerary and activitys services+controller+router)
=======
  users/{userId}/itineraries/{itineraryId}/activities:
    post:
      summary: Create activity for itinerary
      operationId: createActivity
      tags:
        - Activities
      parameters:
        - name: userId
          in: path
          required: true
          schema:
            type: integer
        - name: itineraryId
          in: path
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              type: object
              required:
                - title
                - location
                - startTime
                - endTime
              properties:
                title:
                  type: string
                  example: Passeio de barco
                location:
                  type: string
                  example: Rio de Janeiro
                startTime:
                  type: string
                  format: date-time
                  example: '2025-07-02T09:00:00.000Z'
                endTime:
                  type: string
                  format: date-time
                  example: '2025-07-02T12:00:00.000Z'
                price:
                  type: number
                  format: float
                  example: 150
                duration:
                  type: string
                  example: 3h
                description:
                  type: string
                  example: Passeio de barco pela orla.
                destinationId:
                  type: integer
                  example: 1
      responses:
        '201':
          description: Activity created
=======
>>>>>>> 6930e63 (feat: adiciona documentação das rotas)
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Itinerary'
        '404':
          description: Itinerary not found
        '500':
          description: Server error
  /users/{userId}/itineraries/{itineraryId}/activities:
    get:
      summary: Get all activities for an itinerary
      tags:
        - Activities
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: List of activities
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Activity'
        '400':
          description: Invalid input
        '500':
          description: Server error
    post:
      summary: Create a new activity for an itinerary
      tags:
        - Activities
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateActivityInput'
      responses:
        '201':
          description: Activity created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '400':
          description: Invalid input
        '500':
          description: Server error
  /users/{userId}/itineraries/{itineraryId}/activities/{activityId}:
    put:
      summary: Update an activity
      tags:
        - Activities
      parameters:
        - in: path
          name: userId
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
        - in: path
          name: activityId
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateActivityInput'
      responses:
        '200':
          description: Activity updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '400':
          description: Invalid input
        '404':
          description: Activity not found
        '500':
          description: Server error
    delete:
      summary: Delete an activity
      tags:
        - Activities
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
        - in: path
          name: itineraryId
          required: true
          schema:
            type: integer
        - in: path
          name: activityId
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Activity deleted
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Activity'
        '404':
          description: Activity not found
        '500':
          description: Server error
  /travel-interests:
    get:
      summary: Get all travel interests
      tags:
        - TravelInterests
      responses:
        '200':
          description: List of travel interests
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/TravelInterest'
        '500':
          description: Server error
    post:
      summary: Create a new travel interest
      tags:
        - TravelInterests
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CreateTravelInterestInput'
      responses:
        '201':
          description: Travel interest created
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelInterest'
        '400':
          description: Invalid input
        '500':
          description: Server error
  /travel-interests/{id}:
    get:
      summary: Get travel interest by ID
      tags:
        - TravelInterests
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '200':
          description: Travel interest found
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelInterest'
        '404':
          description: Travel interest not found
        '500':
          description: Server error
    put:
      summary: Update travel interest by ID
      tags:
        - TravelInterests
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/UpdateTravelInterestInput'
      responses:
        '200':
          description: Travel interest updated
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/TravelInterest'
        '400':
          description: Invalid input
        '404':
          description: Travel interest not found
        '500':
          description: Server error
    delete:
      summary: Delete travel interest by ID
      tags:
        - TravelInterests
      parameters:
        - in: path
          name: id
          required: true
          schema:
            type: integer
      responses:
        '204':
          description: Travel interest deleted
        '404':
          description: Travel interest not found
        '500':
          description: Server error
>>>>>>> 3ae82ba (Att yamls para rotas no swagger)
=======
                  user:
                    $ref: '#/components/schemas/User'

>>>>>>> 8ce8bcc (Implementação a US48 backend)
components:
  schemas:
    CreateUserInput:
      type: object
      required: [name, email, password]
      properties:
        name:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
<<<<<<< HEAD
        createdAt:
          type: string
          format: date-time
        profileBio:
          type: string
        profileImage:
          type: string
          format: uri
    UpdateUserInput:
      type: object
      properties:
        name:
          type: string
        email:
          type: string
          format: email
        password:
          type: string
        createdAt:
          type: string
          format: date-time
        profileBio:
          type: string
        profileImage:
          type: string
          format: uri
    User:
      type: object
      properties:
        id:
          type: integer
        name:
          type: string
        email:
          type: string
        createdAt:
          type: string
          format: date-time
        profileBio:
          type: string
        profileImage:
          type: string
          format: uri
    CreateTravelPreferenceInput:
      type: object
      required:
        - userId
        - transport
        - accommodation
        - activities
      properties:
        userId:
          type: integer
        transport:
          type: string
        accommodation:
          type: string
        activities:
          type: array
          items:
            type: string
        budget:
          type: number
        duration:
          type: integer
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
    UpdateTravelPreferenceInput:
      type: object
      properties:
        userId:
          type: integer
        transport:
          type: string
        accommodation:
          type: string
        activities:
          type: array
          items:
            type: string
        budget:
          type: number
        duration:
          type: integer
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
    TravelPreference:
      type: object
      properties:
        id:
          type: integer
        userId:
          type: integer
        transport:
          type: string
        accommodation:
          type: string
        activities:
          type: array
          items:
            type: string
        budget:
          type: number
        duration:
          type: integer
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
    CreateItineraryInput:
      type: object
      required:
        - title
        - startDate
        - endDate
        - itineraryStatus
      properties:
        title:
          type: string
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        itineraryStatus:
          type: string
          enum:
            - PLANNING
            - IN_PROGRESS
            - COMPLETED
        foodBudget:
          type: number
        lodgingBudget:
          type: number
        totalBudget:
          type: number
        userIds:
          type: array
          items:
            type: integer
        activityIds:
          type: array
          items:
            type: integer
        destinationIds:
          type: array
          items:
            type: integer
        transportIds:
          type: array
          items:
            type: integer
        requiredDocumentIds:
          type: array
          items:
            type: integer
    UpdateItineraryInput:
      type: object
      properties:
        title:
          type: string
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        itineraryStatus:
          type: string
          enum:
            - PLANNING
            - IN_PROGRESS
            - COMPLETED
        foodBudget:
          type: number
        lodgingBudget:
          type: number
        totalBudget:
          type: number
        userIds:
          type: array
          items:
            type: integer
        activityIds:
          type: array
          items:
            type: integer
        destinationIds:
          type: array
          items:
            type: integer
        transportIds:
          type: array
          items:
            type: integer
        requiredDocumentIds:
          type: array
          items:
            type: integer
    Itinerary:
=======
        profileBio:
          type: string
          nullable: true
        profileImage:
          type: string
          nullable: true

    PlanoViagem:
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      type: object
      properties:
        id:
          type: integer
        title:
          type: string
        startDate:
          type: string
          format: date-time
        endDate:
          type: string
          format: date-time
        itineraryStatus:
          type: string
        foodBudget:
          type: number
        lodgingBudget:
          type: number
        totalBudget:
          type: number
        userIds:
          type: array
          items:
<<<<<<< HEAD
            type: integer
        activityIds:
          type: array
          items:
            type: integer
        destinationIds:
          type: array
          items:
            type: integer
        transportIds:
          type: array
          items:
            type: integer
        requiredDocumentIds:
          type: array
          items:
            type: integer
    CreateActivityInput:
      type: object
      required:
        - location
        - title
        - price
        - startTime
        - endTime
        - itineraryId
      properties:
        location:
          type: string
        title:
          type: string
        price:
          type: number
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        duration:
          type: string
        description:
          type: string
        itineraryId:
          type: integer
    UpdateActivityInput:
      type: object
      properties:
        location:
          type: string
        title:
          type: string
        price:
          type: number
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        duration:
          type: string
        description:
          type: string
    Activity:
=======
            $ref: '#/components/schemas/User'

    User:
>>>>>>> 8ce8bcc (Implementação a US48 backend)
      type: object
      properties:
        id:
          type: integer
<<<<<<< HEAD
        location:
          type: string
        title:
          type: string
        price:
          type: number
        startTime:
          type: string
          format: date-time
        endTime:
          type: string
          format: date-time
        duration:
          type: string
        description:
          type: string
        itineraryId:
          type: integer
    CreateTravelInterestInput:
      type: object
      required:
        - label
      properties:
        label:
          type: string
    UpdateTravelInterestInput:
      type: object
      properties:
        label:
          type: string
    TravelInterest:
      type: object
      properties:
        id:
          type: integer
        label:
          type: string
=======
        name:
          type: string
        email:
          type: string
        profileBio:
          type: string
          nullable: true
        profileImage:
          type: string
          nullable: true

  securitySchemes:
    bearerAuth:
      type: http
      scheme: bearer
      bearerFormat: JWT
>>>>>>> 8ce8bcc (Implementação a US48 backend)
